(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(2),c=n.n(o),a=n(5),s=n.n(a),r=n(7),l=n(3);function i(){var e=Object(o.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(!1),s=Object(l.a)(a,2),i=s[0],d=s[1],u=function(e,t){var n=Object(o.useState)(!0),c=Object(l.a)(n,2),a=c[0],s=c[1],r=Object(o.useState)(!1),i=Object(l.a)(r,2),d=i[0],u=i[1],j=Object(o.useState)(!0),h=Object(l.a)(j,2),b=h[0],O=h[1],m=Object(o.useState)(t),x=Object(l.a)(m,2),p=x[0],f=x[1];return Object(o.useEffect)((function(){setTimeout((function(){try{var n,o=localStorage.getItem(e);o?n=JSON.parse(o):(localStorage.setItem(e,JSON.stringify(t)),n=t),f(n),O(!1),s(!0)}catch(d){u(d)}}),1e3)}),[a]),{item:p,saveItem:function(t){try{localStorage.setItem(e,JSON.stringify(t)),f(t)}catch(d){u(d)}},loading:b,error:d,synchronize:function(){O(!0),s(!1)}}}("TODOs_V1",[]),j=u.item,h=u.saveItem,b=u.synchronize,O=u.error,m=u.loading,x=j.filter((function(e){return e.completed})).length,p=j.length,f=[];f=0===n.length?j:j.filter((function(e){var t=e.text.toLowerCase(),o=n.toLowerCase();return t.includes(o)}));return{totalTodos:p,completedTodos:x,searchValue:n,setSearchValue:c,showTodos:f,TODOs:j,completeTodo:function(e){var t=j.findIndex((function(t){return t.text===e})),n=Object(r.a)(j);n[t].completed=!0,h(n)},deleteTodo:function(e){var t=j.findIndex((function(t){return t.text===e})),n=Object(r.a)(j);n.splice(t,1),h(n)},openModal:i,setOpenModal:d,addTodo:function(e){var t={text:e,completed:!1},n=Object(r.a)(j);n.push(t),h(n)},error:O,loading:m,synchronizeTODOs:b}}n(16);var d=n(1),u=function(e){return Object(d.jsx)(c.a.Fragment,{children:e.children})},j=(n(18),function(e){var t=e.state,n=t.completedTodos,o=t.totalTodos;return Object(d.jsx)("section",{children:Object(d.jsxs)("h1",{className:"counter__title",children:["You have completed ",n,"/",o," TODOs."]})})}),h=n(9),b=(n(19),function(e){var t=e.state.setSearchValue;return Object(d.jsxs)("section",{className:"search",children:[Object(d.jsx)("h3",{className:"search__h3",children:"Search a To Do"}),Object(d.jsxs)("div",{className:"search__container",children:[Object(d.jsx)(h.a,{className:"search-icon"}),Object(d.jsx)("input",{className:"search__input-search",placeholder:"Buy milk and eggs...",type:"text",onChange:function(e){t(e.target.value)}})]})]})}),O=(n(20),function(e){var t=e.children||e.render;return Object(d.jsxs)("section",{className:"TodoList-container",children:[e.error&&e.onError(),e.loading&&e.onLoading(),!e.loading&&!e.totalTodos&&e.onEmptyTodos(),!!e.totalTodos&&!e.searchedTodos.length&&e.onEmptySearchResults(e.searchText),!e.loading&&!e.error&&e.searchedTodos.map(t)]})}),m=(n(21),n(10)),x=n(11),p=function(e){return Object(d.jsx)("li",{className:"todoitem",children:Object(d.jsxs)("div",{className:"todoitem__container",children:[Object(d.jsx)("span",{className:"todoitem__span",onClick:e.onComplete,children:Object(d.jsx)(m.a,{className:"check-icon ".concat(e.completed?"checkIconCompleted":""),style:{}})}),Object(d.jsx)("p",{className:"todoitem__p ".concat(e.completed?"todoitem__completed":""),children:e.text}),Object(d.jsx)("span",{className:"todoitem__span",onClick:e.onDelete,children:Object(d.jsx)(x.a,{className:"delete-icon"})})]})})},f=(n(22),function(e){var t=e.children;return s.a.createPortal(Object(d.jsx)("div",{className:"modal",children:Object(d.jsx)("div",{className:"modal-header",children:t})}),document.getElementById("modal"))}),g=(n(23),function(e){var t=e.isSubmit,n=e.text,o=e.onClick;return t?Object(d.jsx)("button",{className:"btn",type:"submit",onSubmit:o,children:n}):Object(d.jsx)("button",{className:"btn",type:"button",onClick:o,children:n})}),T=(n(24),function(e){var t=e.state,n=t.openModal,o=t.setOpenModal;return Object(d.jsx)("button",{onClick:function(){o(!n)},className:"close-button pointerOnHover",children:"X"})}),v=(n(25),function(e){var t=e.title,n=e.placeholder,o=e.buttonAdd,a=e.state,s=a.setOpenModal,r=a.openModal,i=a.addTodo,u=c.a.useState(""),j=Object(l.a)(u,2),h=j[0],b=j[1],O=function(e){e.preventDefault(),i(h),s(!1)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("label",{children:t}),Object(d.jsx)(T,{state:{openModal:r,setOpenModal:s}})]}),Object(d.jsxs)("form",{className:"form",onSubmit:O,children:[Object(d.jsx)("textarea",{className:"text-area ".concat(25===h.length?"text-area-error":""),onChange:function(e){b(e.target.value)},placeholder:n,maxLength:25}),Object(d.jsxs)("div",{className:"form-buttons",children:[Object(d.jsx)(g,{onClick:function(){s(!1)},text:"Cancel"}),Object(d.jsx)(g,{isSubmit:!0,onClick:O,text:o})]}),25===h.length?Object(d.jsx)("label",{className:"text-area-warning",children:"Max characters reached."}):""]})]})});n(26);var N,S=(N=function(e){var t=e.show,n=e.toggleShow;return t?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"ChangeAlert-bg",children:Object(d.jsxs)("div",{className:"ChangeAlert-container",children:[Object(d.jsx)("p",{children:"Hubo cambios"}),Object(d.jsx)("button",{onClick:function(){n(!1)},children:"Cargar informaci\xf3n"})]})})}):null},function(e){var t=Object(o.useState)(!1),n=Object(l.a)(t,2),c=n[0],a=n[1];return window.addEventListener("storage",(function(e){"TODOs_V1"===e.key&&a(!0)})),Object(d.jsx)(N,{show:c,toggleShow:function(){e.synchronize(),a(!1)}})}),y=(n(27),function(e){var t=e.state,n=t.openModal,o=t.setOpenModal;return Object(d.jsx)("section",{className:"section__add-todo-button",children:Object(d.jsx)("button",{onClick:function(){o(!n)},className:"add-todo-button",children:"+"})})}),C=(n(28),function(){var e=i(),t=e.showTodos,n=e.completeTodo,o=e.deleteTodo,c=e.error,a=e.loading,s=e.completedTodos,r=e.setSearchValue,l=e.openModal,h=e.setOpenModal,m=e.addTodo,x=e.totalTodos,g=e.searchValue,T=e.synchronizeTODOs;return Object(d.jsxs)(u,{className:"layout",children:[Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j,{state:{completedTodos:s,totalTodos:x}}),Object(d.jsx)(b,{state:{setSearchValue:r}}),Object(d.jsx)(O,{error:c,loading:a,totalTodos:x,searchedTodos:t,onError:function(){return Object(d.jsx)("p",{children:"Oops, there was a problem..."})},onLoading:function(){return Object(d.jsx)("p",{children:"Loading, wait please..."})},onEmptyTodos:function(){return Object(d.jsx)("p",{children:"\xa1Create your first TODO!"})},searchText:g,onEmptySearchResults:function(e){return Object(d.jsxs)("p",{children:["No hay resultados para '",e,"'"]})},children:function(e){return Object(d.jsx)(p,{text:e.text,completed:e.completed,onComplete:function(){return n(e.text)},onDelete:function(){return o(e.text)}},e.text)}})]}),Object(d.jsx)(y,{state:{openModal:l,setOpenModal:h}}),l&&Object(d.jsx)(f,{children:Object(d.jsx)(v,{state:{setOpenModal:h,addTodo:m,openModal:l},onClose:function(){h(!l)},title:"Add todo",buttonAdd:"add",placeholder:"Cut onion for lunch"})}),Object(d.jsx)(S,{synchronize:T})]})});s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.b15cbb64.chunk.js.map