(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(2),o=n.n(c),a=n(5),s=n.n(a),r=n(7),l=n(3);var i=n(1),d=o.a.createContext();function u(e){var t=Object(c.useState)(""),n=Object(l.a)(t,2),o=n[0],a=n[1],s=Object(c.useState)(!1),u=Object(l.a)(s,2),j=u[0],b=u[1],O=function(e,t){var n=Object(c.useState)(!1),o=Object(l.a)(n,2),a=o[0],s=o[1],r=Object(c.useState)(!0),i=Object(l.a)(r,2),d=i[0],u=i[1],j=Object(c.useState)(t),b=Object(l.a)(j,2),O=b[0],h=b[1];return Object(c.useEffect)((function(){setTimeout((function(){try{var n,c=localStorage.getItem(e);c?n=JSON.parse(c):(localStorage.setItem(e,JSON.stringify(t)),n=t),h(n),u(!1)}catch(a){s(a)}}),1e3)})),{item:O,saveItem:function(t){try{localStorage.setItem(e,JSON.stringify(t)),h(t)}catch(a){s(a)}},loading:d,error:a}}("TODOs_V1",[]),h=O.item,m=O.saveItem,x=O.error,f=O.loading,p=h.filter((function(e){return e.completed})).length,v=h.length,g=[];g=0===o.length?h:h.filter((function(e){var t=e.text.toLowerCase(),n=o.toLowerCase();return t.includes(n)}));return Object(i.jsx)(d.Provider,{value:{todosTotal:v,completedTodos:p,searchValue:o,setSearchValue:a,showTodos:g,TODOs:h,completeTodo:function(e){var t=h.findIndex((function(t){return t.text===e})),n=Object(r.a)(h);n[t].completed=!0,m(n)},deleteTodo:function(e){var t=h.findIndex((function(t){return t.text===e})),n=Object(r.a)(h);n.splice(t,1),m(n)},openModal:j,setOpenModal:b,addTodo:function(e){var t={text:e,completed:!1},n=Object(r.a)(h);n.push(t),m(n)},error:x,loading:f},children:e.children})}n(16);var j=function(e){return Object(i.jsx)(o.a.Fragment,{children:e.children})},b=(n(17),function(){var e=o.a.useContext(d),t=e.completedTodos,n=e.todosTotal;return Object(i.jsx)("section",{children:Object(i.jsxs)("h1",{className:"counter__title",children:["You have completed ",t,"/",n," TODOs"]})})}),O=(n(18),function(){var e=o.a.useContext(d).setSearchValue;return Object(i.jsxs)("section",{className:"search",children:[Object(i.jsx)("h3",{className:"search__h3",children:"Search a To Do"}),Object(i.jsx)("input",{className:"search__input-search",placeholder:"Buy milk and eggs...",type:"text",onChange:function(t){e(t.target.value)}})]})}),h=(n(19),function(e){return Object(i.jsx)("section",{children:Object(i.jsx)("ul",{className:"todolist",children:e.children})})}),m=(n(20),n(9)),x=n(10),f=function(e){return Object(i.jsx)("li",{className:"todoitem",children:Object(i.jsxs)("div",{className:"todoitem__container",children:[Object(i.jsx)("span",{className:"todoitem__span",onClick:e.onCompleted,children:Object(i.jsx)(m.a,{className:"check-icon",style:{}})}),Object(i.jsx)("p",{className:"todoitem__p ".concat(e.completed?"todoitem__completed":""),children:e.text}),Object(i.jsx)("span",{className:"todoitem__span",onClick:e.onDelete,children:Object(i.jsx)(x.a,{className:"delete-icon"})})]})})},p=(n(21),function(){var e=o.a.useContext(d),t=e.openModal,n=e.setOpenModal;return Object(i.jsx)("button",{onClick:function(){n(!t)},className:"close-button",children:"X"})}),v=(n(22),function(e){var t=e.children;return s.a.createPortal(Object(i.jsx)("div",{className:"modal",children:Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsx)(p,{}),t]})}),document.getElementById("modal"))}),g=(n(23),function(e){var t=o.a.useState(""),n=Object(l.a)(t,2),c=n[0],a=n[1],s=o.a.useContext(d),r=s.setOpenModal,u=s.addTodo,j=function(e){e.preventDefault(),u(c),r(!1)};return Object(i.jsxs)("form",{className:"form",onSubmit:j,children:[Object(i.jsx)("label",{children:e.title}),Object(i.jsx)("textarea",{onChange:function(e){a(e.target.value)},placeholder:e.placeholder}),Object(i.jsxs)("div",{className:"form-buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){r(!1)},children:"Cancel"}),Object(i.jsx)("button",{type:"submit",onSubmit:j,children:e.buttonAdd})]})]})}),C=(n(24),function(){var e=o.a.useContext(d),t=e.openModal,n=e.setOpenModal;return Object(i.jsx)("section",{className:"section__add-todo-button",children:Object(i.jsx)("button",{onClick:function(){n(!t)},className:"add-todo-button",children:"+"})})}),N=(n(25),function(){var e=o.a.useContext(d),t=e.openModal,n=e.setOpenModal;return Object(i.jsx)(o.a.Fragment,{children:Object(i.jsxs)(j,{className:"layout",children:[Object(i.jsx)(b,{}),Object(i.jsx)(O,{}),Object(i.jsx)(d.Consumer,{children:function(e){var t=e.showTodos,n=e.completeTodo,c=e.deleteTodo,o=e.error,a=e.loading;return Object(i.jsxs)(h,{TODOs:t,children:[o&&Object(i.jsx)("p",{children:"Desesp\xe9rate, hubo un error..."}),a&&Object(i.jsx)("p",{children:"Estamos cargando, no desesperes..."}),!a&&!t.length&&Object(i.jsx)("p",{children:"\xa1Crea tu primer TODO!"}),t.length>0&&t.map((function(e){return Object(i.jsx)(f,{text:e.text,completed:e.completed,onCompleted:function(){return n(e.text)},onDelete:function(){return c(e.text)}},e.text)}))]})}}),Object(i.jsx)(C,{}),t&&Object(i.jsx)(v,{children:Object(i.jsx)(g,{onClose:function(){n(!t)},title:"Add todo",buttonAdd:"add",placeholder:"Cut onion for lunch"})})]})})});var T=function(){return Object(i.jsx)(u,{children:Object(i.jsx)(N,{})})};s.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(T,{})}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.05d825a2.chunk.js.map